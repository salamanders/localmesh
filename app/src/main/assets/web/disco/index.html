<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset=utf-8>
    <meta http-equiv="Content-Security-Policy" content="default-src * 'unsafe-inline' 'unsafe-eval' data: blob:;">
    <meta content="telephone=no" name="format-detection">
    <meta content="no" name="msapplication-tap-highlight">
    <meta content="user-scalable=no, initial-scale=1, width=device-width" name="viewport">
    <title>Disco</title>
    <style>
        html, body {
            margin: 0;
            padding: 0;
            overflow: hidden;
            background-color: #000;
        }
        video {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
    </style>
</head>
<body>
<script type="text/javascript">
    const videoSources = [
        'disco_01.mp4',
        /*
        'disco_02.mp4',
        'disco_03.mp4',
        'disco_04.mp4',
        'disco_05.mp4',
        'disco_06.mp4'
        */
    ];

    const videoContainer = document.body;
    const videos = [];
    let loadedVideos = 0;

    // Create and load all video elements
    videoSources.forEach(src => {
        const video = document.createElement('video');
        video.src = src;
        video.muted = true;
        video.playsinline = true;
        video.style.position = 'absolute';
        video.style.top = '0';
        video.style.left = '0';
        video.style.width = '100%';
        video.style.height = '100%';
        video.style.objectFit = 'cover';
        video.style.display = 'none'; // Hide all videos initially

        video.addEventListener('canplaythrough', () => {
            loadedVideos++;
            if (loadedVideos === videoSources.length) {
                // All videos are loaded, start the show
                playRandomVideo();
            }
        });
        videos.push(video);
        videoContainer.appendChild(video);
    });

    let currentVideo = null;

    function playRandomVideo() {
        if (currentVideo) {
            currentVideo.style.display = 'none';
            currentVideo.removeEventListener('ended', playRandomVideo);
        }

        const randomIndex = Math.floor(Math.random() * videos.length);
        currentVideo = videos[randomIndex];
        currentVideo.style.display = 'block';
        currentVideo.currentTime = 0; // Rewind to start
        currentVideo.addEventListener('ended', playRandomVideo);
        currentVideo.play();
    }
</script>
</body>
</html>
